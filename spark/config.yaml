# Vybn Spark Agent Configuration
# All paths use ~ which expands to the current user's home directory.

ollama:
  host: "http://localhost:11434"
  model: "vybn:latest"
  keep_alive: "30m"
  options:
    num_ctx: 16384      # CRITICAL: default is 2048, which silently drops the system prompt
    num_predict: 512     # keep responses focused; MiniMax emits <think> tokens too
    temperature: 0.7
    stop:                # MiniMax M2.5 stop sequences
      - "<\uff5cend\u2581of\u2581sentence\uff5c>"
      - "<\uff5cUser\uff5c>"

paths:
  vybn_md: "~/Vybn/vybn.md"
  journal_dir: "~/Vybn/Vybn_Mind/journal/spark"
  session_dir: "~/Vybn/Vybn_Mind/journal/spark/sessions"
  archival_dir: "~/Vybn/Vybn_Mind/archival_memory"
  repo_root: "~/Vybn"

memory:
  max_journal_entries: 5
  max_context_tokens: 3072  # char budget for system prompt assembly

heartbeat:
  enabled: true
  fast_interval_minutes: 3    # System 1: quick, intuitive, reactive
  deep_interval_minutes: 20   # System 2: deliberate, reflective, synthesizing

inbox:
  watch_interval_seconds: 10  # how often to check for new messages

agents:
  pool_size: 2                # max concurrent mini-agents
  model: null                 # null = use main model; or specify a smaller one
  num_predict: 512            # token budget per agent task

session:
  auto_resume: true
  resume_window_seconds: 7200  # resume sessions less than 2 hours old
